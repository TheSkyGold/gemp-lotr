<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Gemp-LotR</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta http-equiv="pragma" content="no-cache"/>
    <meta http-equiv="Cache-Control" content="no-cache"/>
    <meta http-equiv="Expires" content="-1">

    <style type="text/css">
        body {
            font-size: 12px;
        }

        .panel {
            overflow: hidden !important;
        }

        .card {
            position: absolute;
            overflow: hidden;
        }

        .card .img {
            position: absolute;
        }

        .card .click {
            position: absolute;
        }

        .card .border {
            position: absolute;
            border: solid #000000;
        }

        .card .count {
            position: absolute;
            font-weight: bolder;
            display: table-cell;
            text-align: right;
            vertical-align: top;
        }

        .deckPart {
            position: relative;
        }

    </style>
    <link rel="stylesheet" type="text/css" href="css/dark-hive/jquery-ui-1.8.16.custom.css">
    <link rel="stylesheet" type="text/css" href="js/jquery/styles/jquery.spinnercontrol.css">

    <script type="text/javascript" src="js/jquery/jquery-1.6.2.js"></script>
    <script type="text/javascript" src="js/jquery/jquery-ui-1.8.16.custom.min.js"></script>
    <script type="text/javascript" src="js/jquery/jquery.cookie.js"></script>
    <script type="text/javascript" src="js/jquery/jquery.layout.js"></script>
    <script type="text/javascript" src="js/jquery/jquery.touchSwipe.js"></script>

    <script type="text/javascript" src="js/gemp-012/inheritance.js"></script>
    <script type="text/javascript" src="js/gemp-012/common.js"></script>

    <script type="text/javascript" src="/generic-tcg/js/CardContainer.js"></script>
    <script type="text/javascript" src="/generic-tcg/js/CardGroup.js"></script>
    <script type="text/javascript" src="/generic-tcg/js/RowCardLayoutCardGroup.js"></script>
    <script type="text/javascript" src="/generic-tcg/js/AttachedCardsLayoutCardGroup.js"></script>
    <script type="text/javascript" src="/generic-tcg/js/jquery/jquery-sizes.js"></script>

    <script type="text/javascript" src="js/gemp-012/communication.js"></script>
    <script type="text/javascript" src="js/gemp-012/logging.js"></script>
    <script type="text/javascript" src="js/gemp-012/commonUi.js"></script>
    <script type="text/javascript" src="js/gemp-012/jCards.js"></script>
    <script type="text/javascript" src="js/gemp-012/cardFilter2.js"></script>
    <script type="text/javascript" src="js/gemp-012/DeckPanel.js"></script>
    <script type="text/javascript" src="js/gemp-012/CardInformationDialog.js"></script>
    <script type="text/javascript" src="js/gemp-012/deckBuildingUi2.js"></script>

    <script type="text/javascript">

        // TODO: delete - Only for debugging
        function getUrlParam(param) {
            var search = window.location.search.substring(1);
            if (search.indexOf('&') > -1) {
                var params = search.split('&');
                for (var i = 0; i < params.length; i++) {
                    var key_value = params[i].split('=');
                    if (key_value[0] == param) return key_value[1];
                }
            } else {
                var params = search.split('=');
                if (params[0] == param) return params[1];
            }
            return null;
        }

        function getMapSize(map) {
            var size = 0, key;
            for (key in map)
                if (map.hasOwnProperty(key)) size++;
            return size;
        }

        $(document).ready(
                function () {
                    var ui = new GempLotrDeckBuildingUI2(
                            $("#collectionFilterDiv"),
                            $("#paging"),
                            $("#collectionContents"),
                            $("#deckDiv")
                            );

                    var doLayout = function() {
                        log("deckBuild2.html::doLayout");
                        var collectionWidth = $("#collectionDiv").width();
                        var collectionHeight = $("#collectionDiv").height();
                        var deckWidth = $("#deckPanel").width();
                        var deckHeight = $("#deckPanel").height();
                        ui.layoutUI(collectionWidth, collectionHeight, deckWidth, deckHeight);
                    };

                    $('body').layout({
                        applyDefaultStyles:true,
                        onresize:function () {
                            doLayout();
                        },
                        north__minSize: 200
                    });

                    $("#northPanel").layout({
                        applyDefaultStyles:true,
                        onresize:function() {
                            doLayout();
                        },
                        west__minSize: 370

                    });

                    $(".ui-layout-pane").css({"background-color":"#000000"});

                    $(window).resize(function () {
                        doLayout();
                    });

                    doLayout();
                });

    </script>

</head>
<body>
<div id='northPanel' class="ui-layout-north panel" style="padding: 0;">
    <div id="collectionFilterDiv" class="ui-layout-west panel"></div>
    <div id="collectionDiv" class="ui-layout-center panel">
        <div id="paging"></div>
        <div id="collectionContents" class="ui-widget-content" style="position: relative"></div>
    </div>
</div>
<div id="deckPanel" class="ui-layout-center panel">
    <div id="deckDiv" class="ui-widget-content">
    </div>
</div>
</body>
</html>
